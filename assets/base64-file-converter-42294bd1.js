import{d as D,n as _,p as U,q as E,s as N,v as S,o as T,f as $,k as a,w as s,i,x as g,g as m,l as b,F as j,y as A,m as P,z as H,A as M,B as R,C as q,D as z}from"./index-c993e4da.js";import{p as L,u as W,g as G}from"./downloadBase64-3d876a16.js";import{i as J}from"./base64-6a7151fc.js";import{_ as K,a as O}from"./Grid-969a20ef.js";import{m as Q}from"./index-c49c33b2.js";import"./is-browser-fc34c9a6.js";import"./get-slot-1efb97e5.js";import"./___vite-browser-external_commonjs-proxy-33e0b364.js";const X=p=>(R("data-v-17ebdecd"),p=p(),q(),p),Y=X(()=>m("div",{flex:"","justify-center":"","py-2":""},[m("div",{id:"previewContainer"})],-1)),Z={flex:"","justify-center":"","gap-3":""},ee={flex:"","justify-center":""},te=D({__name:"base64-file-converter",setup(p){const u=_("file"),d=_(""),o=_(""),{download:F}=W({source:o,filename:u,extension:d}),r=U({source:o,rules:[{message:"Invalid base 64 string",validator:t=>J(t.trim())}]});E(o,(t,e)=>{const{mimeType:n}=G({base64String:t});n&&(d.value=Q.extension(n)||d.value)});function B(){if(r.isValid)try{const t=L(o.value);t.style.maxWidth="100%",t.style.maxHeight="400px";const e=document.getElementById("previewContainer");e&&(e.innerHTML="",e.appendChild(t))}catch{}}function C(){if(r.isValid)try{F()}catch{}}const f=_(),{base64:y}=N(f),{copy:h}=S({source:y,text:"Base64 string copied to the clipboard"});async function I(t){t&&(f.value=t)}function x(t){if(t.clipboardData){const{items:e}=t.clipboardData;for(const n of e)n.kind==="file"?f.value=n.getAsFile():n.kind==="string"&&n.type.match("^text/plain")?n.getAsString(c=>o.value=c):console.info("Unsupport clipboardData",n)}}return(t,e)=>{const n=A,c=K,V=O,v=P,w=H,k=M;return T(),$(j,null,[a(w,{title:"Base64 to file",onPaste:x},{default:s(()=>[a(V,{cols:"3","x-gap":"12"},{default:s(()=>[a(c,{span:"2"},{default:s(()=>[a(n,{value:i(u),"onUpdate:value":e[0]||(e[0]=l=>g(u)?u.value=l:null),label:"File Name",placeholder:"Download filename","mb-2":""},null,8,["value"])]),_:1}),a(c,null,{default:s(()=>[a(n,{value:i(d),"onUpdate:value":e[1]||(e[1]=l=>g(d)?d.value=l:null),label:"Extension",placeholder:"Extension","mb-2":""},null,8,["value"])]),_:1})]),_:1}),a(n,{value:i(o),"onUpdate:value":e[2]||(e[2]=l=>g(o)?o.value=l:null),multiline:"",placeholder:"Put your base64 file string here...",rows:"5",validation:i(r),"mb-2":""},null,8,["value","validation"]),Y,m("div",Z,[a(v,{disabled:i(o)===""||!i(r).isValid,onClick:e[3]||(e[3]=l=>B())},{default:s(()=>[b(" Preview image ")]),_:1},8,["disabled"]),a(v,{disabled:i(o)===""||!i(r).isValid,onClick:e[4]||(e[4]=l=>C())},{default:s(()=>[b(" Download file ")]),_:1},8,["disabled"])])]),_:1}),a(w,{title:"File to base64",onPaste:x},{default:s(()=>[a(k,{title:"Drag and drop a file here, Focus this card and paste a file here, or click to select a file",onFileUpload:I}),a(n,{value:i(y),multiline:"",readonly:"",placeholder:"File in base64 will be here",rows:"5","my-2":""},null,8,["value"]),m("div",ee,[a(v,{onClick:e[5]||(e[5]=l=>i(h)())},{default:s(()=>[b(" Copy ")]),_:1})])]),_:1})],64)}}});const pe=z(te,[["__scopeId","data-v-17ebdecd"]]);export{pe as default};
